(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{483:function(e,t,a){"use strict";a.r(t);var s=a(8),r=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"_1-æ•°æ®èšåˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•°æ®èšåˆ"}},[e._v("#")]),e._v(" 1. æ•°æ®èšåˆ")]),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("èšåˆï¼ˆ"),t("OutboundLink")],1),t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("aggregations"),t("OutboundLink")],1),t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ï¼‰"),t("OutboundLink")],1),e._v("å¯ä»¥è®©æˆ‘ä»¬æå…¶æ–¹ä¾¿çš„å®ç°å¯¹æ•°æ®çš„ç»Ÿè®¡ã€åˆ†æã€è¿ç®—")])]),e._v(" "),t("p",[e._v("èšåˆå¸¸è§çš„æœ‰ä¸‰ç±»ï¼š")]),e._v(" "),t("ul",[t("li",[t("strong",[e._v("æ¡¶ï¼ˆBucketï¼‰")]),e._v(" èšåˆï¼šç”¨æ¥å¯¹æ–‡æ¡£åšåˆ†ç»„\n"),t("ul",[t("li",[e._v("TermAggregationï¼šæŒ‰ç…§æ–‡æ¡£å­—æ®µå€¼åˆ†ç»„ï¼Œä¾‹å¦‚æŒ‰ç…§å“ç‰Œå€¼åˆ†ç»„ã€æŒ‰ç…§å›½å®¶åˆ†ç»„")]),e._v(" "),t("li",[e._v("Date Histogramï¼šæŒ‰ç…§æ—¥æœŸé˜¶æ¢¯åˆ†ç»„ï¼Œä¾‹å¦‚ä¸€å‘¨ä¸ºä¸€ç»„ï¼Œæˆ–è€…ä¸€æœˆä¸ºä¸€ç»„")])])]),e._v(" "),t("li",[t("strong",[e._v("åº¦é‡ï¼ˆMetricï¼‰")]),e._v(" èšåˆï¼šç”¨ä»¥è®¡ç®—ä¸€äº›å€¼ï¼Œæ¯”å¦‚ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ç­‰\n"),t("ul",[t("li",[e._v("Avgï¼šæ±‚å¹³å‡å€¼")]),e._v(" "),t("li",[e._v("Maxï¼šæ±‚æœ€å¤§å€¼")]),e._v(" "),t("li",[e._v("Minï¼šæ±‚æœ€å°å€¼")]),e._v(" "),t("li",[e._v("Statsï¼šåŒæ—¶æ±‚maxã€minã€avgã€sumç­‰")])])]),e._v(" "),t("li",[t("strong",[e._v("ç®¡é“ï¼ˆpipelineï¼‰")]),e._v(" èšåˆï¼šå…¶å®ƒèšåˆçš„ç»“æœä¸ºåŸºç¡€åšèšåˆ")])]),e._v(" "),t("p",[e._v("ğŸ’¡"),t("strong",[e._v("æ³¨æ„ï¼š")])]),e._v(" "),t("ul",[t("li",[e._v("é»˜è®¤æƒ…å†µä¸‹ï¼ŒBucketèšåˆä¼šç»Ÿè®¡Bucketå†…çš„æ–‡æ¡£æ•°é‡ï¼Œè®°ä¸º_countï¼Œå¹¶ä¸”æŒ‰ç…§_counté™åºæ’åº")]),e._v(" "),t("li",[e._v("é»˜è®¤æƒ…å†µä¸‹ï¼ŒBucketèšåˆæ˜¯å¯¹ç´¢å¼•åº“çš„æ‰€æœ‰æ–‡æ¡£åšèšåˆï¼Œåªè¦æ·»åŠ queryæ¡ä»¶å³å¯é™å®šè¦èšåˆçš„æ–‡æ¡£èŒƒå›´")]),e._v(" "),t("li",[e._v("Metricèšåˆæ˜¯åœ¨æ¡¶Bucketå†…è¿›è¡Œè¿ç®—")])]),e._v(" "),t("h2",{attrs:{id:"_2-è‡ªåŠ¨è¡¥å…¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-è‡ªåŠ¨è¡¥å…¨"}},[e._v("#")]),e._v(" 2. è‡ªåŠ¨è¡¥å…¨")]),e._v(" "),t("blockquote",[t("p",[e._v("å½“ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥å­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æç¤ºå‡ºä¸è¯¥å­—ç¬¦æœ‰å…³çš„æœç´¢é¡¹;å› ä¸ºéœ€è¦æ ¹æ®æ‹¼éŸ³å­—æ¯æ¥æ¨æ–­ï¼Œå› æ­¤è¦ç”¨åˆ°æ‹¼éŸ³åˆ†è¯åŠŸèƒ½")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723204936367.58jqbni98hds.webp",alt:""}})]),e._v(" "),t("h3",{attrs:{id:"_2-1-æ‹¼éŸ³åˆ†è¯å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-æ‹¼éŸ³åˆ†è¯å™¨"}},[e._v("#")]),e._v(" 2.1 æ‹¼éŸ³åˆ†è¯å™¨")]),e._v(" "),t("blockquote",[t("p",[e._v("è¦å®ç°æ ¹æ®å­—æ¯åšè¡¥å…¨ï¼Œå°±å¿…é¡»å¯¹æ–‡æ¡£æŒ‰ç…§æ‹¼éŸ³åˆ†è¯ã€‚åœ¨GitHubä¸Šæ°å¥½æœ‰elasticsearchçš„æ‹¼éŸ³åˆ†è¯æ’ä»¶ã€‚åœ°å€ï¼šhttps://github.com/medcl/elasticsearch-analysis-pinyin")])]),e._v(" "),t("h3",{attrs:{id:"_2-2-è‡ªå®šä¹‰åˆ†è¯å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-è‡ªå®šä¹‰åˆ†è¯å™¨"}},[e._v("#")]),e._v(" 2.2 è‡ªå®šä¹‰åˆ†è¯å™¨")]),e._v(" "),t("blockquote",[t("p",[e._v("é»˜è®¤çš„æ‹¼éŸ³åˆ†è¯å™¨ä¼šå°†æ¯ä¸ªæ±‰å­—å•ç‹¬åˆ†ä¸ºæ‹¼éŸ³ï¼Œè€Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯æ¯ä¸ªè¯æ¡å½¢æˆä¸€ç»„æ‹¼éŸ³ï¼Œéœ€è¦å¯¹æ‹¼éŸ³åˆ†è¯å™¨åšä¸ªæ€§åŒ–å®šåˆ¶ï¼Œå½¢æˆè‡ªå®šä¹‰åˆ†è¯å™¨ã€‚")])]),e._v(" "),t("p",[e._v("elasticsearchä¸­åˆ†è¯å™¨ï¼ˆanalyzerï¼‰çš„ç»„æˆåŒ…å«ä¸‰éƒ¨åˆ†ï¼š")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("character filters")]),e._v("ï¼šåœ¨tokenizerä¹‹å‰å¯¹æ–‡æœ¬è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚åˆ é™¤å­—ç¬¦ã€æ›¿æ¢å­—ç¬¦")]),e._v(" "),t("li",[t("code",[e._v("tokenizer")]),e._v("ï¼šå°†æ–‡æœ¬æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ‡å‰²æˆè¯æ¡ï¼ˆtermï¼‰ã€‚ä¾‹å¦‚keywordï¼Œå°±æ˜¯ä¸åˆ†è¯ï¼›è¿˜æœ‰ik_smart")]),e._v(" "),t("li",[t("code",[e._v("tokenizer filter")]),e._v("ï¼šå°†tokenizerè¾“å‡ºçš„è¯æ¡åšè¿›ä¸€æ­¥å¤„ç†ã€‚ä¾‹å¦‚å¤§å°å†™è½¬æ¢ã€åŒä¹‰è¯å¤„ç†ã€æ‹¼éŸ³å¤„ç†ç­‰")])]),e._v(" "),t("p",[t("mark",[e._v("ä¸ºäº†é¿å…æœç´¢åˆ°åŒéŸ³å­—,æ‹¼éŸ³åˆ†è¯å™¨é€‚åˆåœ¨åˆ›å»ºå€’æ’ç´¢å¼•æ—¶ä½¿ç”¨ï¼Œä½†æœç´¢æ—¶ä¸è¦ä½¿ç”¨æ‹¼éŸ³åˆ†è¯å™¨")])]),e._v(" "),t("h3",{attrs:{id:"_2-3-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢"}},[e._v("#")]),e._v(" 2.3 è‡ªåŠ¨è¡¥å…¨æŸ¥è¯¢")]),e._v(" "),t("blockquote",[t("p",[e._v("elasticsearchæä¾›äº†"),t("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/7.6/search-suggesters.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Completion Suggester"),t("OutboundLink")],1),e._v("æŸ¥è¯¢æ¥å®ç°è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚è¿™ä¸ªæŸ¥è¯¢ä¼šåŒ¹é…ä»¥ç”¨æˆ·è¾“å…¥å†…å®¹å¼€å¤´çš„è¯æ¡å¹¶è¿”å›ã€‚")])]),e._v(" "),t("p",[e._v("ä¸ºäº†æé«˜è¡¥å…¨æŸ¥è¯¢çš„æ•ˆç‡ï¼Œå¯¹äºæ–‡æ¡£ä¸­å­—æ®µçš„ç±»å‹æœ‰ä¸€äº›çº¦æŸï¼š")]),e._v(" "),t("ul",[t("li",[e._v("å‚ä¸è¡¥å…¨æŸ¥è¯¢çš„å­—æ®µå¿…é¡»æ˜¯completionç±»å‹ã€‚")]),e._v(" "),t("li",[e._v("å­—æ®µçš„å†…å®¹ä¸€èˆ¬æ˜¯ç”¨æ¥è¡¥å…¨çš„å¤šä¸ªè¯æ¡å½¢æˆçš„æ•°ç»„ã€‚")])]),e._v(" "),t("h2",{attrs:{id:"_3-æ•°æ®åŒæ­¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ•°æ®åŒæ­¥"}},[e._v("#")]),e._v(" 3. æ•°æ®åŒæ­¥")]),e._v(" "),t("blockquote",[t("p",[e._v("elasticsearchä¸­çš„æ•°æ®æ¥è‡ªäºmysqlæ•°æ®åº“ï¼Œå› æ­¤mysqlæ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œelasticsearchä¹Ÿå¿…é¡»è·Ÿç€æ”¹å˜ï¼Œè¿™ä¸ªå°±æ˜¯elasticsearchä¸mysqlä¹‹é—´çš„"),t("strong",[e._v("æ•°æ®åŒæ­¥")]),e._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723214758392.32wfptxx2328.png",alt:""}})])]),e._v(" "),t("h3",{attrs:{id:"_3-1-æ•°æ®åŒæ­¥æ–¹æ¡ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-æ•°æ®åŒæ­¥æ–¹æ¡ˆ"}},[e._v("#")]),e._v(" 3.1 æ•°æ®åŒæ­¥æ–¹æ¡ˆ")]),e._v(" "),t("p",[t("strong",[e._v("â‘  åŒæ­¥è°ƒç”¨")]),t("br"),e._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723214931869.10xrtsy2jvnk.png",alt:""}})]),e._v(" "),t("ul",[t("li",[e._v("ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œç²—æš´")]),e._v(" "),t("li",[e._v("ç¼ºç‚¹ï¼šä¸šåŠ¡è€¦åˆåº¦é«˜")])]),e._v(" "),t("p",[t("strong",[e._v("â‘¡ å¼‚æ­¥é€šçŸ¥")]),e._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723215140735.21ug2d5mzy0w.png",alt:""}})]),e._v(" "),t("ul",[t("li",[e._v("ä¼˜ç‚¹ï¼šä½è€¦åˆï¼Œå®ç°éš¾åº¦ä¸€èˆ¬")]),e._v(" "),t("li",[e._v("ç¼ºç‚¹ï¼šä¾èµ–mqçš„å¯é æ€§")])]),e._v(" "),t("p",[t("strong",[e._v("â‘¢ ç›‘å¬binlog")]),e._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723215518541.2l19pk79h9ts.png",alt:""}})]),e._v(" "),t("ul",[t("li",[e._v("ä¼˜ç‚¹ï¼šå®Œå…¨è§£é™¤æœåŠ¡é—´è€¦åˆ")]),e._v(" "),t("li",[e._v("ç¼ºç‚¹ï¼šå¼€å¯binlogå¢åŠ æ•°æ®åº“è´Ÿæ‹…ã€å®ç°å¤æ‚åº¦é«˜")])]),e._v(" "),t("h2",{attrs:{id:"_4-é›†ç¾¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-é›†ç¾¤"}},[e._v("#")]),e._v(" 4. é›†ç¾¤")]),e._v(" "),t("h3",{attrs:{id:"_4-1-åŸºç¡€æ¦‚å¿µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-åŸºç¡€æ¦‚å¿µ"}},[e._v("#")]),e._v(" 4.1 åŸºç¡€æ¦‚å¿µ")]),e._v(" "),t("blockquote",[t("p",[e._v("å•æœºçš„elasticsearchåšæ•°æ®å­˜å‚¨ï¼Œå¿…ç„¶é¢ä¸´ä¸¤ä¸ªé—®é¢˜ï¼šæµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜ã€å•ç‚¹æ•…éšœé—®é¢˜ã€‚")]),e._v(" "),t("ul",[t("li",[e._v("æµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜ï¼šå°†ç´¢å¼•åº“ä»é€»è¾‘ä¸Šæ‹†åˆ†ä¸ºNä¸ªåˆ†ç‰‡ï¼ˆshardï¼‰ï¼Œå­˜å‚¨åˆ°å¤šä¸ªèŠ‚ç‚¹")]),e._v(" "),t("li",[e._v("å•ç‚¹æ•…éšœé—®é¢˜ï¼šå°†åˆ†ç‰‡æ•°æ®åœ¨ä¸åŒèŠ‚ç‚¹å¤‡ä»½ï¼ˆreplica ï¼‰")])])]),e._v(" "),t("p",[t("strong",[e._v("ESé›†ç¾¤ç›¸å…³æ¦‚å¿µ")]),e._v(":")]),e._v(" "),t("ul",[t("li",[e._v("é›†ç¾¤ï¼ˆclusterï¼‰ï¼šä¸€ç»„æ‹¥æœ‰å…±åŒçš„ cluster name çš„ èŠ‚ç‚¹ã€‚")]),e._v(" "),t("li",[t("font",{attrs:{color:"red"}},[e._v("èŠ‚ç‚¹ï¼ˆnode)")]),e._v("   ï¼šé›†ç¾¤ä¸­çš„ä¸€ä¸ª Elasticearch å®ä¾‹")],1),e._v(" "),t("li",[t("font",{attrs:{color:"red"}},[e._v("åˆ†ç‰‡ï¼ˆshardï¼‰")]),e._v("ï¼šç´¢å¼•å¯ä»¥è¢«æ‹†åˆ†ä¸ºä¸åŒçš„éƒ¨åˆ†è¿›è¡Œå­˜å‚¨ï¼Œç§°ä¸ºåˆ†ç‰‡ã€‚åœ¨é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªç´¢å¼•çš„ä¸åŒåˆ†ç‰‡å¯ä»¥æ‹†åˆ†åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸­\n"),t("strong",[e._v("è§£å†³é—®é¢˜ï¼šæ•°æ®é‡å¤ªå¤§ï¼Œå•ç‚¹å­˜å‚¨é‡æœ‰é™çš„é—®é¢˜ã€‚")])],1),e._v(" "),t("li",[e._v("ä¸»åˆ†ç‰‡ï¼ˆPrimary shardï¼‰ï¼šç›¸å¯¹äºå‰¯æœ¬åˆ†ç‰‡çš„å®šä¹‰ã€‚")]),e._v(" "),t("li",[e._v("å‰¯æœ¬åˆ†ç‰‡ï¼ˆReplica shardï¼‰æ¯ä¸ªä¸»åˆ†ç‰‡å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‰¯æœ¬ï¼Œæ•°æ®å’Œä¸»åˆ†ç‰‡ä¸€æ ·ã€‚\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20200104124551912.vbx6myhqvkw.webp",alt:""}})])]),e._v(" "),t("h3",{attrs:{id:"_4-2-é›†ç¾¤è„‘è£‚é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-é›†ç¾¤è„‘è£‚é—®é¢˜"}},[e._v("#")]),e._v(" 4.2 é›†ç¾¤è„‘è£‚é—®é¢˜")]),e._v(" "),t("h4",{attrs:{id:"_4-2-1-é›†ç¾¤èŒè´£åˆ’åˆ†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-é›†ç¾¤èŒè´£åˆ’åˆ†"}},[e._v("#")]),e._v(" 4.2.1 é›†ç¾¤èŒè´£åˆ’åˆ†")]),e._v(" "),t("p",[e._v("ğŸ·ï¸ elasticsearchä¸­é›†ç¾¤èŠ‚ç‚¹æœ‰ä¸åŒçš„èŒè´£åˆ’åˆ†ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723223008967.4ci10wlrau80.webp",alt:""}})]),e._v(" "),t("blockquote",[t("p",[e._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤ä¸­çš„ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½åŒæ—¶å…·å¤‡ä¸Šè¿°å››ç§è§’è‰²ã€‚\nä½†æ˜¯çœŸå®çš„é›†ç¾¤ä¸€å®šè¦å°†é›†ç¾¤èŒè´£åˆ†ç¦»ï¼š")])]),e._v(" "),t("ul",[t("li",[e._v("masterèŠ‚ç‚¹ï¼šå¯¹CPUè¦æ±‚é«˜ï¼Œä½†æ˜¯å†…å­˜è¦æ±‚ä½")]),e._v(" "),t("li",[e._v("dataèŠ‚ç‚¹ï¼šå¯¹CPUå’Œå†…å­˜è¦æ±‚éƒ½é«˜")]),e._v(" "),t("li",[e._v("coordinatingèŠ‚ç‚¹ï¼šå¯¹ç½‘ç»œå¸¦å®½ã€CPUè¦æ±‚é«˜")])]),e._v(" "),t("blockquote",[t("p",[e._v("èŒè´£åˆ†ç¦»å¯ä»¥è®©æˆ‘ä»¬æ ¹æ®ä¸åŒèŠ‚ç‚¹çš„éœ€æ±‚åˆ†é…ä¸åŒçš„ç¡¬ä»¶å»éƒ¨ç½²ã€‚è€Œä¸”é¿å…ä¸šåŠ¡ä¹‹é—´çš„äº’ç›¸å¹²æ‰°ã€‚")])]),e._v(" "),t("p",[e._v("ä¸€ä¸ªå…¸å‹çš„esé›†ç¾¤èŒè´£åˆ’åˆ†å¦‚å›¾ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723223629142.6t1b3jp52d1c.webp",alt:""}})]),e._v(" "),t("h4",{attrs:{id:"_4-2-2-è„‘è£‚é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-è„‘è£‚é—®é¢˜"}},[e._v("#")]),e._v(" 4.2.2 è„‘è£‚é—®é¢˜")]),e._v(" "),t("blockquote",[t("p",[e._v("è„‘è£‚æ˜¯å› ä¸ºé›†ç¾¤ä¸­çš„èŠ‚ç‚¹å¤±è”å¯¼è‡´çš„ã€‚")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("ä¾‹å¦‚ä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œä¸»èŠ‚ç‚¹ä¸å…¶å®ƒèŠ‚ç‚¹å¤±è”ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723223804995.69k8sz8yndz4.webp",alt:""}})])]),e._v(" "),t("li",[t("p",[e._v("æ­¤æ—¶ï¼Œnode2å’Œnode3è®¤ä¸ºnode1å®•æœºï¼Œå°±ä¼šé‡æ–°é€‰ä¸»ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723223845754.9fwx0ibgvvg.webp",alt:""}})])]),e._v(" "),t("li",[t("p",[e._v("å½“node3å½“é€‰åï¼Œé›†ç¾¤ç»§ç»­å¯¹å¤–æä¾›æœåŠ¡ï¼Œnode2å’Œnode3è‡ªæˆé›†ç¾¤ï¼Œnode1è‡ªæˆé›†ç¾¤ï¼Œä¸¤ä¸ªé›†ç¾¤"),t("strong",[e._v("æ•°æ®ä¸åŒæ­¥ï¼Œå‡ºç°æ•°æ®å·®å¼‚")]),e._v("ã€‚")])]),e._v(" "),t("li",[t("p",[e._v("å½“ç½‘ç»œæ¢å¤åï¼Œå› ä¸ºé›†ç¾¤ä¸­æœ‰ä¸¤ä¸ªmasterèŠ‚ç‚¹ï¼Œé›†ç¾¤çŠ¶æ€çš„ä¸ä¸€è‡´ï¼Œå‡ºç°è„‘è£‚çš„æƒ…å†µ\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723224000555.6wzak88vrcsg.webp",alt:""}})])])]),e._v(" "),t("blockquote",[t("p",[t("strong",[e._v("è§£å†³æ–¹æ¡ˆ")]),e._v("ï¼š\nè¦æ±‚é€‰ç¥¨è¶…è¿‡ ( eligibleèŠ‚ç‚¹æ•°é‡ + 1 ï¼‰/ 2 æ‰èƒ½å½“é€‰ä¸ºä¸»ï¼Œå› æ­¤eligibleèŠ‚ç‚¹æ•°é‡æœ€å¥½æ˜¯å¥‡æ•°ã€‚å¯¹åº”é…ç½®é¡¹æ˜¯discovery.zen.minimum_master_nodesï¼Œåœ¨es7.0ä»¥åï¼Œå·²ç»æˆä¸ºé»˜è®¤é…ç½®ï¼Œå› æ­¤ä¸€èˆ¬ä¸ä¼šå‘ç”Ÿè„‘è£‚é—®é¢˜")])]),e._v(" "),t("p",[e._v("ä¾‹å¦‚ï¼š3ä¸ªèŠ‚ç‚¹å½¢æˆçš„é›†ç¾¤ï¼Œé€‰ç¥¨å¿…é¡»è¶…è¿‡ ï¼ˆ3 + 1ï¼‰ / 2 ï¼Œä¹Ÿå°±æ˜¯2ç¥¨ã€‚node3å¾—åˆ°node2å’Œnode3çš„é€‰ç¥¨ï¼Œå½“é€‰ä¸ºä¸»ã€‚node1åªæœ‰è‡ªå·±1ç¥¨ï¼Œæ²¡æœ‰å½“é€‰ã€‚é›†ç¾¤ä¸­ä¾ç„¶åªæœ‰1ä¸ªä¸»èŠ‚ç‚¹ï¼Œæ²¡æœ‰å‡ºç°è„‘è£‚ã€‚")]),e._v(" "),t("h3",{attrs:{id:"_4-3-é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨"}},[e._v("#")]),e._v(" 4.3 é›†ç¾¤åˆ†å¸ƒå¼å­˜å‚¨")]),e._v(" "),t("blockquote",[t("p",[e._v("å½“æ–°å¢æ–‡æ¡£æ—¶ï¼Œåº”è¯¥ä¿å­˜åˆ°ä¸åŒåˆ†ç‰‡ï¼Œä¿è¯æ•°æ®å‡è¡¡ï¼Œé‚£ä¹ˆcoordinating nodeå¦‚ä½•ç¡®å®šæ•°æ®è¯¥å­˜å‚¨åˆ°å“ªä¸ªåˆ†ç‰‡å‘¢ï¼Ÿ")])]),e._v(" "),t("p",[e._v("ğŸ·ï¸ elasticsearchä¼šé€šè¿‡"),t("strong",[e._v("hashç®—æ³•")]),e._v("æ¥è®¡ç®—æ–‡æ¡£åº”è¯¥å­˜å‚¨åˆ°å“ªä¸ªåˆ†ç‰‡ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723224354904.1ersxw636d6o.webp",alt:""}})]),e._v(" "),t("ul",[t("li",[e._v("_routingé»˜è®¤æ˜¯æ–‡æ¡£çš„id")]),e._v(" "),t("li",[e._v("ç®—æ³•ä¸åˆ†ç‰‡æ•°é‡æœ‰å…³ï¼Œå› æ­¤ç´¢å¼•åº“ä¸€æ—¦åˆ›å»ºï¼Œåˆ†ç‰‡æ•°é‡ä¸èƒ½ä¿®æ”¹ï¼")])]),e._v(" "),t("p",[t("strong",[e._v("æ–°å¢æ–‡æ¡£çš„æµç¨‹å¦‚ä¸‹ï¼š")]),e._v(" "),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723225436084.38f8h3wc8s3k.webp",alt:""}})]),e._v(" "),t("h3",{attrs:{id:"_4-4-é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢"}},[e._v("#")]),e._v(" 4.4 é›†ç¾¤åˆ†å¸ƒå¼æŸ¥è¯¢")]),e._v(" "),t("p",[e._v("elasticsearchçš„æŸ¥è¯¢åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š")]),e._v(" "),t("ul",[t("li",[e._v("scatter phaseï¼šåˆ†æ•£é˜¶æ®µï¼Œcoordinating nodeä¼šæŠŠè¯·æ±‚åˆ†å‘åˆ°æ¯ä¸€ä¸ªåˆ†ç‰‡")]),e._v(" "),t("li",[e._v("gather phaseï¼šèšé›†é˜¶æ®µï¼Œcoordinating nodeæ±‡æ€»data nodeçš„æœç´¢ç»“æœï¼Œå¹¶å¤„ç†ä¸ºæœ€ç»ˆç»“æœé›†è¿”å›ç»™ç”¨æˆ·")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723225809848.4679kknsu8ow.webp",alt:""}})]),e._v(" "),t("h3",{attrs:{id:"_4-5-é›†ç¾¤æ•…éšœè½¬ç§»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-é›†ç¾¤æ•…éšœè½¬ç§»"}},[e._v("#")]),e._v(" 4.5 é›†ç¾¤æ•…éšœè½¬ç§»")]),e._v(" "),t("blockquote",[t("p",[e._v("é›†ç¾¤çš„masterèŠ‚ç‚¹ä¼šç›‘æ§é›†ç¾¤ä¸­çš„èŠ‚ç‚¹çŠ¶æ€ï¼Œå¦‚æœå‘ç°æœ‰èŠ‚ç‚¹å®•æœºï¼Œä¼šç«‹å³å°†å®•æœºèŠ‚ç‚¹çš„åˆ†ç‰‡æ•°æ®è¿ç§»åˆ°å…¶å®ƒèŠ‚ç‚¹ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ï¼Œè¿™ä¸ªå«åšæ•…éšœè½¬ç§»ã€‚")])]),e._v(" "),t("ul",[t("li",[e._v("ä¾‹å¦‚ä¸€ä¸ªé›†ç¾¤ç»“æ„å¦‚å›¾ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723225945963.1446rv94qluo.webp",alt:""}})]),e._v(" "),t("li",[e._v("çªç„¶ï¼Œnode1å‘ç”Ÿäº†æ•…éšœï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723230020574.4so5bdnyr0g0.webp",alt:""}})]),e._v(" "),t("li",[e._v("å®•æœºåçš„ç¬¬ä¸€ä»¶äº‹ï¼Œéœ€è¦é‡æ–°é€‰ä¸»ï¼Œä¾‹å¦‚é€‰ä¸­äº†node2ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723230055974.5pegsgpuwveo.webp",alt:""}})]),e._v(" "),t("li",[e._v("node2æˆä¸ºä¸»èŠ‚ç‚¹åï¼Œä¼šæ£€æµ‹é›†ç¾¤ç›‘æ§çŠ¶æ€ï¼Œå‘ç°ï¼šshard-1ã€shard-0æ²¡æœ‰å‰¯æœ¬èŠ‚ç‚¹ã€‚å› æ­¤éœ€è¦å°†node1ä¸Šçš„æ•°æ®è¿ç§»åˆ°node2ã€node3ï¼š\n"),t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Cynicism-lab/MyResource@gh-pages/image/image-20210723230216642.3em98a92qcsg.webp",alt:""}})])])])}),[],!1,null,null,null);t.default=r.exports}}]);